---
import Card from './Card.astro'
import { artistsData } from '../data/artists.data.js'

const shuffleData = artistsData.sort(() => Math.random() - 0.5)
---

<section class='swiper'>
	<ul class='swiper-wrapper'>
		{
			shuffleData.map(({ artist, id, images }) => (
				<Card className='swiper-slide' artist={artist} id={id} img={images[0]} />
			))
		}
	</ul>
</section>

<style>
	.swiper {
		width: 100%;
		height: 100%;
	}
	.swiper-slide {
		width: 20rem;
		height: 25rem;
		margin: 2rem 0;
		opacity: 0.2;
		transition: opacity 500ms ease;
	}
</style>

<script>
	import Swiper from 'swiper/bundle'
	import 'swiper/css'

	const swiper = new Swiper('.swiper', {
		slidesPerView: 'auto',
		spaceBetween: 50,
		grabCursor: true,
		centeredSlides: true,
		loop: true,
		autoplay: {
			delay: 4000,
			disableOnInteraction: false
		},
		breakpoints: {
			640: {
				spaceBetween: 90
			},
			1024: {
				spaceBetween: 185
			}
		}
	})
</script>
